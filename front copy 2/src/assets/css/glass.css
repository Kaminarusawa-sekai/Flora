@import "tailwindcss";

@theme {
  /* ====================
     自定义动画曲线 (Easings)
     ==================== */
  --ease-tech: cubic-bezier(0.4, 0, 0.2, 1);

  /* ====================
     自定义颜色 (参考设计图调色)
     ==================== */
  --color-tech-blue: #3b82f6;  /* 基础蓝 */
  --color-tech-cyan: #06b6d4;  /* 青色光晕 */
  --color-tech-green: #10b981; /* 成功绿 */
  --color-tech-dark: #0a0c10;  /* 深色背景基调 */

  /* ====================
     自定义阴影 (Shadows - 增强光感)
     ==================== */
  /* 基础玻璃面板 - 增加青蓝色微光 */
  --shadow-glass: 
    0 8px 32px rgba(0, 0, 0, 0.5), /* 更深的投影 */
    inset 0 0 0 1px rgba(255, 255, 255, 0.08), /* 极细内边框 */
    0 0 20px rgba(6, 182, 212, 0.15), /* 青色环境光 */
    0 0 40px rgba(59, 130, 246, 0.1); /* 蓝色环境光 */
  
  /* 悬停状态 - 光感增强 */
  --shadow-glass-hover: 
    0 12px 48px rgba(0, 0, 0, 0.6),
    inset 0 0 0 1px rgba(255, 255, 255, 0.15),
    0 0 30px rgba(6, 182, 212, 0.3),
    0 0 60px rgba(59, 130, 246, 0.2);

  /* HUD 输入框聚光 - 青蓝色调 */
  --shadow-hud-focus:
    0 0 0 1px rgba(6, 182, 212, 0.5),
    0 0 24px rgba(6, 182, 212, 0.35), 
    0 0 48px rgba(59, 130, 246, 0.2);
  
  /* 状态点发光 - 强度提升 */
  --shadow-glow-blue: 0 0 20px rgba(59, 130, 246, 0.9), 0 0 40px rgba(59, 130, 246, 0.5);
  --shadow-glow-cyan: 0 0 20px rgba(6, 182, 212, 0.9), 0 0 40px rgba(6, 182, 212, 0.5);
  --shadow-glow-green: 0 0 20px rgba(16, 185, 129, 0.9), 0 0 40px rgba(16, 185, 129, 0.5);
  
  /* DAG 节点状态发光 */
  --shadow-dag-running: 0 0 40px rgba(6, 182, 212, 0.3), inset 0 0 20px rgba(6, 182, 212, 0.2);
  --shadow-dag-success: 0 0 40px rgba(16, 185, 129, 0.3), inset 0 0 20px rgba(16, 185, 129, 0.2);

  /* ====================
     自定义动画
     ==================== */
  --animate-ping-slow: ping 2.5s cubic-bezier(0, 0, 0.2, 1) infinite;
  --animate-pulse-glow: pulse-glow 3s ease-in-out infinite;
}

@keyframes pulse-glow {
  0%, 100% { opacity: 1; filter: brightness(1); }
  50% { opacity: 0.8; filter: brightness(1.3); }
}

/* =========================================
   组件层 (Component Layer)
   ========================================= */
@layer components {
  
  /* 1. 玻璃面板组件 (整体背景更深，光感更强) */
  .glass-panel {
    @apply bg-[#0a0c10]/70 backdrop-blur-[30px] rounded-3xl;
    @apply border border-white/5; /* 基础微弱边框 */
    transition-timing-function: var(--ease-tech);
    transition-property: all;
    transition-duration: 300ms;
    background-image: linear-gradient(to bottom right, rgba(67, 198, 221, 0.03), rgba(59, 130, 246, 0.03));
    box-shadow: var(--shadow-glass); /* 假设你想应用--shadow-glass变量 */
  }
  
  .glass-hover {
    @apply hover:bg-[#0a0c10]/60 hover:border-white/15 hover:shadow-glass-hover hover:-translate-y-0.5;
  }

  /* 2. 任务列表项 (左侧光条设计) */
  .task-item {
    @apply relative bg-white/2 border border-white/5 rounded-xl p-3 cursor-pointer mb-2 overflow-hidden;
    @apply backdrop-blur-[8px] transition-all duration-300 ease-tech;
    /* 左侧光条占位 */
    @apply border-l-[3px] border-l-transparent;
  }

  .task-item:hover {
    @apply bg-white/5 border-white/10;
  }

  /* 激活/运行中状态 (蓝色/青色系) */
  .task-item.running, .task-item.active {
    @apply bg-[rgba(6,182,212,0.08)] border-cyan-500/30 border-l-cyan-400;
    @apply shadow-[0_0_20px_rgba(6,182,212,0.15)];
  }
  
  /* 完成状态 (绿色系) */
  .task-item.success, .task-item.completed {
    @apply bg-[rgba(16,185,129,0.08)] border-emerald-500/30 border-l-emerald-400;
    @apply shadow-[0_0_20px_rgba(16,185,129,0.15)];
  }

  /* 3. DAG 节点 (更深背景，更强边框光) */
  .dag-node {
    @apply min-w-[180px] p-4 rounded-2xl bg-[#0a0c10]/80 backdrop-blur-xl;
    @apply border border-white/10 transition-all duration-300 ease-in-out;
    /* 默认轻微发光 */
    box-shadow: 0 0 15px rgba(0, 0, 0, 0.3);
  }

  .dag-node:hover {
    @apply -translate-y-[1px] border-cyan-500/40;
    @apply shadow-[0_12px_40px_rgba(0,0,0,0.5),0_0_30px_rgba(6,182,212,0.3)];
  }

  /* DAG 状态变体 */
  .dag-node.running {
    @apply border-cyan-400/80 shadow-dag-running animate-pulse-glow;
    /* 内部可能需要的进度条背景色 */
    background-image: linear-gradient(to right, rgba(6,182,212,0.15), rgba(6,182,212,0.05));
  }
  .dag-node.success {
    @apply border-emerald-400/80 shadow-dag-success;
  }
  
  /* DAG 进度条 (Root Agent 示例) */
  .dag-progress-bar {
    @apply h-1.5 rounded-full bg-[#0a0c10]/50 overflow-hidden relative;
  }
  .dag-progress-value {
    @apply h-full rounded-full bg-gradient-to-r from-cyan-500 to-blue-500 relative;
    /* 进度条发光 */
    box-shadow: 0 0 10px rgba(6, 182, 212, 0.8);
  }

  /* 4. HUD 组件 */
  .hud-input {
    @apply bg-[#0a0c10]/60 backdrop-blur-2xl border border-white/10 rounded-2xl;
    @apply px-4 py-3 text-sm text-gray-100 w-full transition-all duration-300 ease-out;
    @apply focus:outline-none focus:bg-[#0a0c10]/80 focus:border-cyan-400/50 focus:shadow-hud-focus;
    /* 输入框内部微光 */
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.2);
  }
  
  /* 搜索框样式 */
  .hud-search {
    @apply bg-[#0a0c10]/60 backdrop-blur-2xl border border-white/10 rounded-full;
    @apply px-4 py-3 text-sm text-gray-100 w-full transition-all duration-300 ease-out;
    @apply focus:outline-none focus:bg-[#0a0c10]/80 focus:border-cyan-400/50 focus:shadow-hud-focus;
    @apply pl-10 relative;
    /* 输入框内部微光 */
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.2);
  }

  /* 5. 辅助样式 */
  /* 发光文字 */
  .glow-text-cyan { text-shadow: 0 0 12px rgba(6, 182, 212, 0.8); }
  .glow-text-blue { text-shadow: 0 0 12px rgba(59, 130, 246, 0.8); }

  /* SVG 连接线发光 */
  .connection-line-glow {
    filter: drop-shadow(0 0 8px rgba(6, 182, 212, 0.6));
    stroke: #06b6d4; /* 青色描边 */
  }
}